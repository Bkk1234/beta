<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#42b983">
    <title>ตารางเวลาเดินรถสองแถว</title>

    <!-- เชื่อมโยงไฟล์ CSS ของ Bootstrap -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <!-- เชื่อมโยงไฟล์ Manifest สำหรับ PWA -->
    <link rel="manifest" href="manifest.json">
    <link href="css/styles.css" rel="stylesheet">

    <!-- ตั้งค่า Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js').then((registration) => {
                    console.log('Service Worker registered with scope:', registration.scope);
                }).catch((error) => {
                    console.log('Service Worker registration failed:', error);
                });
            });
        }
    </script>

</head>

<body>
    <div id="header"></div> <!-- Header จะถูกโหลดที่นี่ -->
    <div class="container my-5">
        <h1 class="text-center">ตารางเวลาเดินรถประจำทาง</h1>
        เราตั้งใจทำให้ดูเวลา แต่ต้องบอกว่าตารางเวลาเราอาจจะเก่าเพราะพี่ๆหลายสายปรับเปลี่ยนเวลาทุกวัน
        เนื่องจากจำเป็นต้องปรับรอบรถให้สอดคล้องกับจำนวนผู้โดยสารที่น้อย</br>
        <label for="routeSelect">เวลาที่อยากดู:</label>
        <!-- ปุ่มเลือกโหมด -->
        <div class="text-center mb-4">
            <button id="loadNearAllTimeBtn" class="btn btn-light"><a
                    href="/timetable.html">ตารางเวลาทั้งหมด</a></button>
        </div>

        <h1 class="text-center">แสดงตารางเวลาบางส่วน</h1>

        <!-- Dropdown เลือกสาย -->
        <div class="form-group">
            <label for="routeSelect">สายรถประจำทาง:</label>
            <select id="routeSelect" class="form-control">
                <option value="">กำลังโหลด...</option>
            </select>

            <!-- ข้อความแสดงเตือน -->
            <div id="message" class="alert alert-warning" style="display: none;"></div>
            <div id="scheduleInfo"></div>

        </div>
    </div>
    <iframe src="/partials/footer.html" width="100%" height="290em"  frameborder="0"></iframe><!-- Footer จะถูกโหลดที่นี่ -->

    <!-- เชื่อมโยงไฟล์ JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- เชื่อมโยงไฟล์ JS ของเราเอง -->
    <script src="js/header-footer.js"></script>
    <script src="js/dropdown-time.js"></script>
    <script src="js/nearSchedule.js"></script>




</body>

</html>